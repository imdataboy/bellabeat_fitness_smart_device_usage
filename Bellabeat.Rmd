---
title: "Bellabeat"
author: ILYAS SACHA
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## About the company  
Urška Sršen and Sando Mur founded **Bellabeat**, a high-tech company that manufactures **health-focused smart products**. Sršen used her background as an artist to develop beautifully designed technology that informs and **inspires** women around the world. Collecting **data** on activity, sleep, stress, and reproductive health has allowed **Bellabeat** to empower women with **knowledge** about their own health and habits. Since it was founded in **2013**, **Bellabeat** has grown rapidly and quickly positioned itself as a tech-driven wellness company for women.

By **2016**, **Bellabeat** had opened offices around the world and launched multiple products. Bellabeat products became available through a **growing number** of **online retailers** in addition to their own e-commerce channel on their website. The company has invested in **traditional advertising media**, such as radio, out-of-home billboards, print, and television, but focuses on digital marketing extensively. Bellabeat invests year-round in Google Search, maintaining active Facebook and Instagram pages, and consistently engages consumers on Twitter. Additionally, Bellabeat runs video ads on Youtube and display ads on the Google Display Network to support campaigns around key marketing dates.  

### Characters
**Urška Sršen:** Bellabeat’s cofounder and Chief Creative Officer.  
**Sando Mur:** Mathematician and Bellabeat’s cofounder; key member of the Bellabeat executive team.  
**Bellabeat marketing analytics team:** A team of data analysts responsible for collecting, analyzing, and reporting data that helps guide Bellabeat’s marketing strategy.  

### Products
**Bellabeat app:** The Bellabeat app provides users with health data related to their activity, sleep, stress, menstrual cycle, and mindfulness habits. This data can help users better understand their current habits and make healthy decisions. The Bellabeat app connects to their line of smart wellness products.  
**Leaf:** Bellabeat’s classic wellness tracker can be worn as a bracelet, necklace, or clip. The Leaf tracker connects to the Bellabeat app to track activity, sleep, and stress.  
**Time:** This wellness watch combines the timeless look of a classic timepiece with smart technology to track user activity, sleep, and stress. The Time watch connects to the Bellabeat app to provide you with insights into yourdaily wellness.  
**Spring:** This is a water bottle that tracks daily water intake using smart technology to ensure that you are appropriately hydrated throughout the day. The Spring bottle connects to the Bellabeat app to track your hydration levels.  
**Bellabeat membership:** Bellabeat also offers a subscription-based membership program for users. Membership gives users 24/7 access to fully personalized guidance on nutrition, activity, sleep, health and beauty, and mindfulness based on their lifestyle and goals.  

## About the task  
### Business task
Analyzing smart device usage data in order to gain insight into how consumers use non-Bellabeat smart devices.  

### Stakeholders  
**Primary stakeholders:** Urška Sršen, Sando Mur  
**secondary stakeholders:** Bellabeat marketing analytics team  

## About the dataset  
- The dataset is located in this [link](https://www.kaggle.com/datasets/arashnic/fitbit) made available by fitness tracking device under brand Fitbit open/public data, collected by third party [Mobius](https://www.kaggle.com/arashnic).  
- This dataset generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016.  
- 30 eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring.  
- The dataset is under creative commons license which claims No Copyright and allows copy, modify, distribute and perform the work, even for commercial purposes, all without asking permission. See [Other Information](https://creativecommons.org/publicdomain/zero/1.0/).  
- The dataset conatains **18 files**:
```{r}
folder_path <- "C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/dataset"
files_names <- list.files(folder_path)
files_names

```
- some of the data are available in both wide and long format.  

## Cleaning the data  

### Tools used

**powerquery:** to merge and clean the data.  
**SQL:** to analyse the data.  
**R:** to analyse and visualize the data.  

### Setting up our dataset  
- the **dailyActivity_merged** file contains column data from **dailyCalories_merged**, **dailyIntensities_merged**, **dailySteps_merged**.  

#### merging Hourly activities data using excel and power query  

**step 1:** Gathering hourly datasets in the same workbook.  
![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/screenshots/1_gathering_houry_dataset_in_the_same_workbook.png)  

**step 2:** Merging Hourly Data Using Power Query in Excel.  
![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/screenshots/2_merging_the_hourly_data_power_query.png)
![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/screenshots/3_merge_hourly1.png)  
**same thing was done to minutes data but before we need to clean the date columns of each file using power query**  

### Cleaning the dates  

step 1: Spliting the column by 11 characters. This will separate Date and Time.  
![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/screenshots/spliting_dates_by_number_to_separate_between_date_and_time.png)  

step 2: Spliting the Date column by "/" Delimiter.  
![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/screenshots/spliting_dates_by_delimiter_to_separate_between_days_years_month.png)

step 3: Changing the data type of the newly created columns to Whole number.  
![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/screenshots/changing_data_type_to_whole_number.png)  

step 4: Merging Columns using "/"Separator.  
![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/screenshots/merging_the_splited_column.png)

step 5: merging date and_minutes columns and chanching the column type to date/time.
![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/screenshots/merging_date_and_minutes_column.png)  

**This our new dataset**  
```{r}
path <- "C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/cleaned_data"
new_dataset <- list.files(path)
new_dataset
```

#### Loading libraries
```{r}
library(tidyverse)
library(janitor)
library(skimr)
```
#### Loading our data, taking a glimpse
```{r}
daily_act <- read.csv("C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/cleaned_data/daily_activity.csv")
colnames(daily_act)
str(daily_act)
```
#### Looking for nulls

![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/screenshots/looking_for_null_values_id.png)  
**N.B-1: repeating the same process for all columns**  
**N.B-2: There are no nulls present in the columns**  

#### Looking for negative values 

![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/screenshots/no_negative_values.png)  

**There are no negative values present in the columns**  
**Same thing was done to the rest of the dataset**  

### Analysing and Visualizing the data  
creating a new column that contains weekdays for daily_activity data.  
```{r}
daily_act$activity_date <- as.Date(daily_act$activity_date)

daily_act$day_of_week <- weekdays(daily_act$activity_date)
daily_act$day_of_week <- factor(daily_act$day_of_week, levels = c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))

```

Smart Device Usage by Weekdays.  
```{r}
plot_2 <- ggplot(data = daily_act, aes(x= day_of_week, fill = day_of_week)) +
  geom_bar() +
  labs(title = "Smart Device Usage by Weekdays", x = "Weekdays", y = "Count")+
  theme_minimal()
```
![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/plots/Smart_Device_Usage_by_Weekdays.png)  
This bar chart depicts the distribution of smart device usage across weekdays, providing insights into the most and least popular days of device usage.  
```{r}
active_minutes <- daily_act %>%
  select(contains("_minutes")) %>%
  colSums()

active_minutes_all <- data.frame(activity_type = names(active_minutes), 
                                 minutes = active_minutes)

plot_3 <- ggplot(active_minutes_all, aes(x = activity_type, y = minutes)) +
  geom_bar(stat = "identity", fill = "lightblue") +
  labs(title = "Total Active Minutes by Activity Type", x = "Activity Type", y = "Total Active Minutes") +
  theme_minimal()
```
![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/plots/total_active_min_by_avtivity_type.png)  
The plot shows the total active minutes for different activity types. Users spend the most time in sedentary activities, followed by lightly active. Very active activities have the lowest total minutes. Understanding these patterns can help promote more physical activity and tailor fitness programs accordingly.  

#### Loading hourly_data  
```{r}
hourly_act <- read_csv("C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/cleaned_data/hourly_activity.csv")
```
Creating a new column that contains time periods for hourly_activity data.  
```{r}
hourly_act <- hourly_act %>%
  mutate(activity_hour = ymd_hms(activity_hour)) %>%
  mutate(time_period = case_when(
    hour(activity_hour) < 12 ~ "morning",
    hour(activity_hour) >= 12 & hour(activity_hour) < 18 ~ "afternoon",
    hour(activity_hour) >= 18 | hour(activity_hour) < 6 ~ "evening"
  ))
```

Summary statistics for numerical columns.  
```{r}
summary(hourly_act[c("total_steps", "total_intensity", "average_intensity", "calories")])

```

```{r}
total_calories_per_device <- hourly_act %>%
  group_by(Id) %>%
  summarize(total_calories = sum(calories))

plot_4 <- ggplot(data = total_calories_per_device, 
       aes(x = reorder(Id, -total_calories), y = total_calories)) +
  geom_bar(stat = "identity", fill = "lightgreen") +
  labs(title = "Total Calories Burned per Device", x = "Device ID", y = "Total Calories") + theme_minimal() +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))
```

![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/plots/total_calories_burned_per_device.png)  
The chart provides an overview of how many calories each device has burned, allowing easy comparison to identify devices with higher or lower calorie burning patterns.  

```{r}
plot_5 <- ggplot(data = hourly_act, aes(x= time_period, fill = time_period)) +
  geom_bar() +
  labs(title = "Smart Device Usage by time periode", x = "time_period", y = "Count")+
  theme_minimal()
```
![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/plots/smart_device_usage_by_time_periode.png)  
This bar chart depicts the distribution of smart device usage across the periods of the day, providing insights into the most and least popular time periods of device usage.  
mornings are the most popular.  

Total Calories Burned by Time Period.  
```{r}
calories_by_timeperiod <- hourly_act %>%
  group_by(time_period) %>%
  summarize(total_calories = sum(calories))

plot_6 <- ggplot(calories_by_timeperiod, aes(x = time_period, y = total_calories, fill = time_period)) +
  geom_bar(stat = "identity") +
  labs(title = "Total Calories Burned by Time Period",
       x = "Time Period",
       y = "Total Calories",
       fill = "Time Period") +
  theme_minimal() +
  theme(legend.position = "none")
```
![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/plots/Total_Calories_Burned_by_Time_Period.png)  
Total Steps Over Time by Time Period.  
```{r}
plot_7 <- ggplot(hourly_act, aes(x = activity_hour, y = total_steps, color = time_period)) +
  geom_line() +
  labs(title = "Total Steps Over Time by Time Period",
       x = "Date-Time",
       y = "Total Steps",
       color = "Time Period") +
  theme_minimal()
```
![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/plots/total_steps_over_time_by_time_period.png)  
People are more likely to walk in afternoons and mornings.  

```{r}
sleep_day <- read_csv("C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/cleaned_data/sleep_day.csv")

plot_8 <- ggplot(data = sleep_day)+
  geom_point(mapping = aes(x= total_min_asleep, y= total_time_in_bed, color = total_min_asleep))+
  scale_color_gradient(low = "lightblue", high = "red") +
  labs(title = "Total minutes asleep vs. total time in bed",
            x = "total minutes asleep",
            y = "total time in bed",
       color = "total minutes asleep")+
  theme_minimal()
```
![](C:/Users/isach/OneDrive/Bureau/projects/Bellabeat/plots/total_in_bed_vs_total_asleep.png)
```{r}
correlation_coefficient <- cor(sleep_day$total_min_asleep, sleep_day$total_time_in_bed)
correlation_coefficient
```
the plot suggests that as the total time spent in bed increases, the total minutes asleep also tend to increase. This positive correlation indicates that people are more likely to spend more time asleep when they spend more time in bed.  

## Conclusion  
Our goal was to discover how do non-Bellabeat smart devices users use non_bellabeat products.By looking at the data, we're able to find out that :  

- Tuesday and Wednesday were the most popular days for smart device usage among non-Bellabeat smart device users, while Monday was the least popular.  
- The distribution of smart device usage across weekdays suggests that users may be more active and engaged with their devices during the middle of the week.  
- Users spend the most time in sedentary activities, followed by lightly active activities. Very active activities have the lowest total minutes.This insight indicates that users may have a significant portion of their day involving sedentary activities, highlighting the need to encourage more physical activity and promote healthier lifestyles.  
- Mornings and afternoons are the most popular time periods for smart device usage among non-Bellabeat smart device users.This insight indicates that users are likely to use their devices more frequently in the afternoons, which could be related fitness tracking habits.  
- Users are more likely to engage in walking or active activities during afternoons and mornings.  
- As users spend more time in bed, they tend to spend more time asleep, indicating a positive relationship between these two variables.  

## Recommendations  

Since our **gaol** is to to apply these insights into one of the Bellabeat smart devices(**Bellabeat app**). We can:  

- Since Tuesday and Wednesday were the most popular days for smart device usage, we can consider running targeted promotions and challenges during these days to encourage user engagement. This can help maintain user interest and activity levels throughout the week.  
- Given that users spend the most time in sedentary activities, we need to focus on features and notifications that encourage users to be more physically active.  
- Include a sleep diary feature in the app where users can log their sleep-related activities, such as bedtime, wake-up time, sleep quality, and any disturbances during the night. This diary can help users track their progress and identify patterns affecting their sleep.  
- Regularly collect user feedback to understand their needs and preferences and Use it to continuously improve the user experience.